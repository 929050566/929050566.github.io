<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/favicon.ico?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta name="description" content="纵有疾风起，人生不言弃。">
<meta property="og:type" content="website">
<meta property="og:title" content="个人博客">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="个人博客">
<meta property="og:description" content="纵有疾风起，人生不言弃。">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="个人博客">
<meta name="twitter:description" content="纵有疾风起，人生不言弃。">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/">





  <title>个人博客</title>
  








</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">个人博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">张豪</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-resources">
          <a href="/resources" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-download"></i> <br>
            
            资源
          </a>
        </li>
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/07/MyBatis之DQL/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="张豪">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/07/MyBatis之DQL/" itemprop="url">MyBatis之DQL</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-12-07T16:51:00+08:00">
                2018-12-07
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/框架/" itemprop="url" rel="index">
                    <span itemprop="name">框架</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          
             <span id="/2018/12/07/MyBatis之DQL/" class="leancloud_visitors" data-flag-title="MyBatis之DQL">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="DQL配置"><a href="#DQL配置" class="headerlink" title="DQL配置"></a>DQL配置</h1><p><a href="https://929050566.github.io/2018/12/06/MyBatis/" target="_blank" rel="noopener">上一篇文章</a>我们讲了Mybatis的使用以及DML语句的配置，这篇文章我们讲解一下DQL语句的配置。</p>
<h2 id="查询出表的全部信息"><a href="#查询出表的全部信息" class="headerlink" title="查询出表的全部信息"></a>查询出表的全部信息</h2><p>首先我们配置映射文件</p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;!DOCTYPE mapper 
    PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;
    &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;

&lt;mapper  namespace=&quot;com.aowin.testmybatis.student.mapper.StudentMapper&quot; &gt;

    &lt;!-- 查询出全部的学生信息 --&gt;
    &lt;select id=&quot;selectAllStudents&quot; resultMap=&quot;student_Map&quot; resultType=&quot;Students&quot;&gt;
        select student_id,student_name,student_sex,student_birthday,group_id 
        from students
    &lt;/select&gt;

    &lt;!-- 配置类和表的映射关系 --&gt;
    &lt;resultMap type=&quot;com.aowin.testmybatis.student.pojo.Students&quot; id=&quot;student_Map&quot;&gt;
        &lt;id property=&quot;studentid&quot; column=&quot;student_id&quot; javaType=&quot;java.lang.Integer&quot;/&gt;    
        &lt;result property=&quot;studentname&quot; column=&quot;student_name&quot;/&gt;
        &lt;result property=&quot;studentsex&quot; column=&quot;student_sex&quot;/&gt;
        &lt;result property=&quot;studentbirthday&quot; column=&quot;student_birthday&quot;/&gt;
        &lt;result property=&quot;groupid&quot; column=&quot;group_id&quot;/&gt;
    &lt;/resultMap&gt;
&lt;/mapper&gt;
</code></pre><p>当表中的属性字段和数据库中的属性的名字相同的时候，你可以再select便签中直接加上parameterType属性，<br>属性的值为对应的pojo全路径名，或者是全路径名对应的别名。<br>当表中的属性字段和数据库中的属性的名字不相同的时候，这时候我们就要配置resultMap标签，通过id属性来建立联系。resultMap中的id子标签对应的是主键表属性，result对应的是普通表属性。property是类属性名，column对应的是表属性名。在这里我们还可以写上javaType属性，它是说明属性的数据类型是什么，可以提高效率。<br>在这里我们可以用使用SqlSession的getMapper()方法来返回一个被SqlSession代理过的接口。在通过返回的这个类调用它的方法。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/07/MybatisSqlSessionFactory工具类/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="张豪">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/07/MybatisSqlSessionFactory工具类/" itemprop="url">MybatisSqlSessionFactory工具类</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-12-07T14:40:01+08:00">
                2018-12-07
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/框架/" itemprop="url" rel="index">
                    <span itemprop="name">框架</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          
             <span id="/2018/12/07/MybatisSqlSessionFactory工具类/" class="leancloud_visitors" data-flag-title="MybatisSqlSessionFactory工具类">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="https://929050566.github.io/2018/12/06/MyBatis/" target="_blank" rel="noopener">上一篇文章</a>剩下的MyBatis的核心接口是SqlSession,它有insert(),update(),delete(),selectOne(),selectList(),selectMap(),getMapper()等核心方法。一般我们运用MyBatis框的时候，都会编写一个工具来获取SqlSession,并且我们可以将SqlSession和线程绑定，这样我们可以达到节省资源的目的。<br>要获取SqlSession我们需要用SqlSessionFacotry的openSqlSession()方法，得到SqlSessionFactory我们要用到SqlSessionFactoryBulider的build()方法。并且我们的工具类需要两个核心方法，一个活的SqlSession一个关闭资源。下面代码已经做详细注释，又不懂的地方可以在留言板块留言，作者会及时回复！<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * 获取SqlSession工具类</span><br><span class="line"> * @author haozai</span><br><span class="line"> * @date 2018年12月6日 上午9:39:56</span><br><span class="line"> */</span><br><span class="line">public class MybatisSqlSessionFactory &#123;</span><br><span class="line">	</span><br><span class="line">	//通过工厂类得到SqlSession</span><br><span class="line">	private static SqlSessionFactory factory;</span><br><span class="line">	//用于sqlSession和线程绑定</span><br><span class="line">	private static ThreadLocal&lt;SqlSession&gt; tl = new ThreadLocal&lt;&gt;();</span><br><span class="line">	</span><br><span class="line">	static &#123;</span><br><span class="line">		//因为我们的工厂类一般只需要得到一次就够了，所以我们将得到工厂类的代码放在静态代码块中</span><br><span class="line">		buildSqlSessionFactory();</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	protected MybatisSqlSessionFactory() &#123;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	private static void buildSqlSessionFactory() &#123;</span><br><span class="line">		try &#123;</span><br><span class="line">			//build我们的mybatisconfig.xml配置文件</span><br><span class="line">			factory = new SqlSessionFactoryBuilder().</span><br><span class="line">					build(Resources.getResourceAsReader(&quot;mybatisconfig.xml&quot;));</span><br><span class="line">		&#125; catch (IOException e) &#123;</span><br><span class="line">			// TODO Auto-generated catch block</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	/**</span><br><span class="line">	 * 获取SqlSession的实例 默认自动提交事务</span><br><span class="line">	 * @return SqlSession对象</span><br><span class="line">	 */</span><br><span class="line">	public static SqlSession getSqlSession() &#123;</span><br><span class="line">		SqlSession ss = tl.get();</span><br><span class="line">		if(ss == null) &#123;</span><br><span class="line">			if(factory == null) &#123;</span><br><span class="line">				//如果工厂丢失 则再创建一个</span><br><span class="line">				buildSqlSessionFactory();</span><br><span class="line">			&#125;</span><br><span class="line">			ss = factory.openSession(true);</span><br><span class="line">			tl.set(ss);</span><br><span class="line">		&#125;</span><br><span class="line">		return ss;</span><br><span class="line">	&#125;</span><br><span class="line">	/**</span><br><span class="line">	 * 获取SqlSession的实例 自己设定是否自动提交事务</span><br><span class="line">	 * @param falg:是否自动提交事务 false:否 true:是</span><br><span class="line">	 * @return SqlSession对象</span><br><span class="line">	 */</span><br><span class="line">	public static SqlSession getSqlSession(boolean flag) &#123;</span><br><span class="line">		SqlSession ss = tl.get();</span><br><span class="line">		if(ss == null) &#123;</span><br><span class="line">			if(factory == null) &#123;</span><br><span class="line">				//如果工厂丢失 则再创建一个</span><br><span class="line">				buildSqlSessionFactory();</span><br><span class="line">			&#125;</span><br><span class="line">			ss = factory.openSession(flag);</span><br><span class="line">			tl.set(ss);</span><br><span class="line">		&#125;</span><br><span class="line">		return ss;</span><br><span class="line">	&#125;	</span><br><span class="line">	</span><br><span class="line">	/**</span><br><span class="line">	 * SqlSession的资源释放</span><br><span class="line">	 * @param ss</span><br><span class="line">	 */</span><br><span class="line">	public static void closeSqlSession() &#123;</span><br><span class="line">		SqlSession ss = tl.get();</span><br><span class="line">		if(ss != null) &#123;</span><br><span class="line">			tl.remove();</span><br><span class="line">			ss.close();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/06/MyBatis/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="张豪">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/06/MyBatis/" itemprop="url">MyBatis</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-12-06T10:55:20+08:00">
                2018-12-06
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/框架/" itemprop="url" rel="index">
                    <span itemprop="name">框架</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          
             <span id="/2018/12/06/MyBatis/" class="leancloud_visitors" data-flag-title="MyBatis">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="MyBatis是什么"><a href="#MyBatis是什么" class="headerlink" title="MyBatis是什么"></a>MyBatis是什么</h1><p>&emsp;MyBatis 是支持普通 SQL 查询，存储过程和高级映射的优秀持久层框架，它是一个轻量级ORM应用框架。MyBatis使用简单的XML或注解用于配置和原始映射，将接口和java的POJOs(普通的java对象)映射成数据中的记录。它保留了SQL语句并且使SQL语句和应用程序分离。<br>&emsp;MyBatis是一个半自动的框架，之所以称它为半自动，是用为它需要手动配置POJO,SQL和映射关系，不像Hibernate只需要提供POJO和映射关系即可。<br>&emsp;Mybatis需要提供的映射文件包含了一下三个部分：sql，映射规则，pojo。在Mybatis里面你需要自己编写sql，虽然比Hibernate配置多，但是Mybatis可以配置动态sql，解决了hibernate表名根据时间变化，不同条件下列不一样的问题，同时你也可以对sql进行优化，通过配置决定你的sql映射规则，也能支持存储过程，所以对于一些复杂和需要优化性能的sql查询它就更加方便。Mybatis几乎可以做到jdbc所有能做到的事情。</p>
<h1 id="MyBatis什么时候使用"><a href="#MyBatis什么时候使用" class="headerlink" title="MyBatis什么时候使用"></a>MyBatis什么时候使用</h1><p>&emsp;MyBaties的SQL语句是由你编写的，所有Mybaties更有利于SQL的优化。如果项目的数据量比较大，并且效率要求比较高，则建议使用MyBatis框架。</p>
<h1 id="Mybatis如何使用"><a href="#Mybatis如何使用" class="headerlink" title="Mybatis如何使用"></a>Mybatis如何使用</h1><h2 id="导入jar包"><a href="#导入jar包" class="headerlink" title="导入jar包"></a>导入jar包</h2><p>&emsp;运用框架首先不必多说的就是要先导入框架所依赖jar包，<a href="http://www.mybatis.org/" target="_blank" rel="noopener">点击链接下载mybatis的jar包</a>。以为是数据持久层框架所以还需导入访问数据库所依赖的jar包。比如<a href="https://dev.mysql.com" target="_blank" rel="noopener">mysql.jar</a>。</p>
<h2 id="创建数据库对象"><a href="#创建数据库对象" class="headerlink" title="创建数据库对象"></a>创建数据库对象</h2><p>&emsp;建立关系型映射之前，我们先需要建立表。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE `students` (</span><br><span class="line">  `student_id` int(11) NOT NULL AUTO_INCREMENT,</span><br><span class="line">  `student_name` varchar(20) NOT NULL,</span><br><span class="line">  `student_sex` char(1) DEFAULT NULL,</span><br><span class="line">  `student_birthday` date DEFAULT NULL,</span><br><span class="line">  `group_id` varchar(20) DEFAULT NULL,</span><br><span class="line">  PRIMARY KEY (`student_id`)</span><br><span class="line">) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8;</span><br></pre></td></tr></table></figure></p>
<h2 id="建立POJO"><a href="#建立POJO" class="headerlink" title="建立POJO"></a>建立POJO</h2><p>&emsp;建立对象关系型映射之前，当然对象是必不可少的。需要注意的是，写对象属性的时候，属性名中不可以有下划线。并且最好用引用类型，不要用基本数据类型，这样可以提高代码效率。(因为代码比较简单，就不做注释了。)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * @author haozai</span><br><span class="line"> * @date 2018年12月5日  </span><br><span class="line"> */</span><br><span class="line">package com.aowin.testmybatis.student.pojo;</span><br><span class="line"></span><br><span class="line">import java.io.Serializable;</span><br><span class="line">import java.sql.Date;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * 学生基本信息</span><br><span class="line"> * @author haozai</span><br><span class="line"> * @date 2018年12月5日 上午9:40:49</span><br><span class="line"> */</span><br><span class="line">public class Students implements Serializable &#123;</span><br><span class="line"></span><br><span class="line">	private Integer studentid;</span><br><span class="line">	private String studentname;</span><br><span class="line">	private String studentsex;</span><br><span class="line">	private Date studentbirthday;</span><br><span class="line">	private String groupid;</span><br><span class="line"></span><br><span class="line">	public Students() &#123;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public int getStudentid() &#123;</span><br><span class="line">		return studentid;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public void setStudentid(Integer studentid) &#123;</span><br><span class="line">		this.studentid = studentid;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public String getStudentname() &#123;</span><br><span class="line">		return studentname;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public void setStudentname(String studentname) &#123;</span><br><span class="line">		this.studentname = studentname;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public String getStudentsex() &#123;</span><br><span class="line">		return studentsex;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public void setStudentsex(String studentsex) &#123;</span><br><span class="line">		this.studentsex = studentsex;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public Date getStudentbirthday() &#123;</span><br><span class="line">		return studentbirthday;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public void setStudentbirthday(Date studentbirthday) &#123;</span><br><span class="line">		this.studentbirthday = studentbirthday;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public String getGroupid() &#123;</span><br><span class="line">		return groupid;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public void setGroupid(String groupid) &#123;</span><br><span class="line">		this.groupid = groupid;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	@Override</span><br><span class="line">	public String toString() &#123;</span><br><span class="line">		return &quot;Students [studentid=&quot; + studentid + &quot;, studentname=&quot; + studentname + &quot;, studentsex=&quot; + studentsex</span><br><span class="line">				+ &quot;, studentbirthday=&quot; + studentbirthday + &quot;, groupid=&quot; + groupid + &quot;]&quot;;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="创建映射文件"><a href="#创建映射文件" class="headerlink" title="创建映射文件"></a>创建映射文件</h2><p>&emsp;在POJO同目录下创建一个和POJO名相同的xml文件——Students.xml,写映射文件前，需要先导入DTD约束。(因为篇幅比较大，这里我们只介绍DML语句，DQL语句的介绍请<a href="https://929050566.github.io/2018/12/07/MyBatis之DQL/" target="_blank" rel="noopener">点击这里</a>)</p>
<h3 id="DML"><a href="#DML" class="headerlink" title="DML"></a>DML</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;   </span><br><span class="line">&lt;!DOCTYPE mapper   </span><br><span class="line">PUBLIC &quot;-//ibatis.apache.org//DTD Mapper 3.0//EN&quot;  </span><br><span class="line">&quot;http://ibatis.apache.org/dtd/ibatis-3-mapper.dtd&quot;&gt; </span><br><span class="line"> </span><br><span class="line">&lt;!-- mapper 为根元素节点， 一个namespace对应一个dao --&gt;</span><br><span class="line">&lt;mapper namespace=&quot;com.aowin.testmybatis.student.pojo.Students&quot;&gt;</span><br><span class="line"> </span><br><span class="line">    &lt;insert</span><br><span class="line">      &lt;!-- 1. id （必须配置）</span><br><span class="line">        id是命名空间中的唯一标识符，可被用来代表这条语句。 </span><br><span class="line">        一个命名空间（namespace） 对应一个dao接口, </span><br><span class="line">        这个id也应该对应dao里面的某个方法（相当于方法的实现），因此id 应该与方法名一致 --&gt;</span><br><span class="line">      </span><br><span class="line">      id=&quot;addUser&quot;</span><br><span class="line">      </span><br><span class="line">      &lt;!-- 2. parameterType （可选配置, 默认为mybatis自动选择处理）</span><br><span class="line">        将要传入语句的参数的完全限定类名或别名， 如果不配置，mybatis会通过ParameterHandler 根据参数类型默认选择合适的typeHandler进行处理</span><br><span class="line">        parameterType 主要指定参数类型，可以是int, short, long, string等类型，也可以是复杂类型（如对象） --&gt;</span><br><span class="line">      </span><br><span class="line">      parameterType=&quot;user&quot;</span><br><span class="line">      </span><br><span class="line">      &lt;!-- 3. flushCache （可选配置，默认配置为true）</span><br><span class="line">        将其设置为 true，任何时候只要语句被调用，都会导致本地缓存和二级缓存都会被清空，默认值：true（对应插入、更新和删除语句） --&gt;</span><br><span class="line">      </span><br><span class="line">      flushCache=&quot;true&quot;</span><br><span class="line">      </span><br><span class="line">      &lt;!-- 4. statementType （可选配置，默认配置为PREPARED）</span><br><span class="line">        STATEMENT，PREPARED 或 CALLABLE 的一个。这会让 MyBatis 分别使用 Statement，PreparedStatement 或 CallableStatement，默认值：PREPARED。 --&gt;</span><br><span class="line">      </span><br><span class="line">      statementType=&quot;PREPARED&quot;</span><br><span class="line">      </span><br><span class="line">      &lt;!-- 5. keyProperty (可选配置， 默认为unset)</span><br><span class="line">        （仅对 insert 和 update 有用）唯一标记一个属性，MyBatis 会通过 getGeneratedKeys 的返回值或者通过 insert 语句的 selectKey 子元素设置它的键值，默认：unset。如果希望得到多个生成的列，也可以是逗号分隔的属性名称列表。 --&gt;</span><br><span class="line">      </span><br><span class="line">      keyProperty=&quot;&quot;</span><br><span class="line">      </span><br><span class="line">      &lt;!-- 6. keyColumn     (可选配置)</span><br><span class="line">        （仅对 insert 和 update 有用）通过生成的键值设置表中的列名，这个设置仅在某些数据库（像 PostgreSQL）是必须的，当主键列不是表中的第一列的时候需要设置。如果希望得到多个生成的列，也可以是逗号分隔的属性名称列表。 --&gt;</span><br><span class="line">      </span><br><span class="line">      keyColumn=&quot;&quot;</span><br><span class="line">      </span><br><span class="line">      &lt;!-- 7. useGeneratedKeys (可选配置， 默认为false)</span><br><span class="line">        （仅对 insert 和 update 有用）这会令 MyBatis 使用 JDBC 的 getGeneratedKeys 方法来取出由数据库内部生成的主键（比如：像 MySQL 和 SQL Server 这样的关系数据库管理系统的自动递增字段），默认值：false。  --&gt;</span><br><span class="line">      </span><br><span class="line">      useGeneratedKeys=&quot;false&quot;</span><br><span class="line">      </span><br><span class="line">      &lt;!-- 8. timeout  (可选配置， 默认为unset, 依赖驱动)</span><br><span class="line">        这个设置是在抛出异常之前，驱动程序等待数据库返回请求结果的秒数。默认值为 unset（依赖驱动）。 --&gt;</span><br><span class="line">      timeout=&quot;20&quot;&gt;</span><br><span class="line"> </span><br><span class="line">    &lt;update</span><br><span class="line">      id=&quot;updateUser&quot;</span><br><span class="line">      parameterType=&quot;user&quot;</span><br><span class="line">      flushCache=&quot;true&quot;</span><br><span class="line">      statementType=&quot;PREPARED&quot;</span><br><span class="line">      timeout=&quot;20&quot;&gt;</span><br><span class="line"> </span><br><span class="line">    &lt;delete</span><br><span class="line">      id=&quot;deleteUser&quot;</span><br><span class="line">      parameterType=&quot;user&quot;</span><br><span class="line">      flushCache=&quot;true&quot;</span><br><span class="line">      statementType=&quot;PREPARED&quot;</span><br><span class="line">      timeout=&quot;20&quot;&gt;</span><br><span class="line">&lt;/mapper&gt;</span><br></pre></td></tr></table></figure>
<p>&emsp;上面的代码只是简单的介绍了一下子标签的属性。真正使用的时候，还需要编写自己所需要的SQL语句。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;!DOCTYPE mapper </span><br><span class="line">	PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span><br><span class="line">	&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;mapper  namespace=&quot;com.aowin.testmybatis.student.pojo.Students&quot; &gt;</span><br><span class="line"></span><br><span class="line">	&lt;!-- 添加学生信息的执行语句 --&gt;</span><br><span class="line">	&lt;insert id=&quot;insertstudent&quot; parameterType=&quot;com.aowin.testmybatis.student.pojo.Students&quot; </span><br><span class="line">		useGeneratedKeys=&quot;true&quot; keyProperty=&quot;studentid&quot;&gt;</span><br><span class="line">		&lt;!-- userGeneratedKeys:启动主键 keyProperty:主键属性 --&gt;</span><br><span class="line">		&lt;![CDATA[</span><br><span class="line">		insert into students (student_name,student_sex,student_birthday,group_id)</span><br><span class="line">		values(#&#123;studentname&#125;,#&#123;studentsex&#125;,#&#123;studentbirthday&#125;,#&#123;groupid&#125;)</span><br><span class="line">		]]&gt;</span><br><span class="line">	&lt;/insert&gt;</span><br><span class="line">	</span><br><span class="line">	&lt;!-- 修改学生信息 --&gt;</span><br><span class="line">	&lt;update id=&quot;updatestudent&quot; parameterType=&quot;com.aowin.testmybatis.student.pojo.Students&quot;&gt;</span><br><span class="line">		update students set student_name=#&#123;studentname&#125;,student_sex=#&#123;studentsex&#125;</span><br><span class="line">		,student_birthday=#&#123;studentbirthday&#125;,group_id=#&#123;groupid&#125;</span><br><span class="line">		where student_id=#&#123;studentid&#125;</span><br><span class="line">	&lt;/update&gt;</span><br><span class="line">	</span><br><span class="line">	&lt;!-- 删除学生信息 --&gt;</span><br><span class="line">	&lt;delete id=&quot;deletestudent&quot; parameterType=&quot;int&quot;&gt;</span><br><span class="line">		delete from students</span><br><span class="line">		where student_id=#&#123;studentid&#125;</span><br><span class="line">	&lt;/delete&gt;</span><br><span class="line"></span><br><span class="line">&lt;/mapper&gt;</span><br></pre></td></tr></table></figure></p>
<p>其中将SQL语句用&lt;![CDATA[]]&gt;便签包裹，是为了防止它自己转义（如：&gt;,&lt;等）。在这里也可以编写对应的实体！<br>这里的parameterType设置成user是因为如果不设置的情况下，会自动将类名首字母小写后的名称，原来的类名为User。不过，建议大家还是使用typeAlias进行配置吧。唯一需要说明的就是<insert>元素里面的useGeneratedKeys和keyProperties属性，这两个属性是用来获取数据库中的主键的。<br>在数据库里面经常性的会给数据库表设置一个自增长的列作为主键，如果我们操作数据库后希望能够获取这个主键该怎么弄呢？正如上面所述，如果是支持自增长的数据库，如mysql数据库，那么只需要设置useGeneratedKeys和keyProperties属性便可以了，但是对于不支持自增长的数据库（如oracle）该怎么办呢？<br>mybatis里面在<insert>元素下面提供了<selectkey>子元素用于帮助解决这个问题。来看下配置：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;selectKey</span><br><span class="line">        &lt;!-- selectKey 语句结果应该被设置的目标属性。如果希望得到多个生成的列，也可以是逗号分隔的属性名称列表。 --&gt;</span><br><span class="line">        keyProperty=&quot;id&quot;</span><br><span class="line">        &lt;!-- 结果的类型。MyBatis 通常可以推算出来，但是为了更加确定写上也不会有什么问题。MyBatis 允许任何简单类型用作主键的类型，包括字符串。如果希望作用于多个生成的列，则可以使用一个包含期望属性的 Object 或一个 Map。 --&gt;</span><br><span class="line">        resultType=&quot;int&quot;</span><br><span class="line">        &lt;!-- 这可以被设置为 BEFORE 或 AFTER。如果设置为 BEFORE，那么它会首先选择主键，设置 keyProperty 然后执行插入语句。如果设置为 AFTER，那么先执行插入语句，然后是 selectKey 元素 - 这和像 Oracle 的数据库相似，在插入语句内部可能有嵌入索引调用。 --&gt;</span><br><span class="line">        order=&quot;BEFORE&quot;</span><br><span class="line">        &lt;!-- 与前面相同，MyBatis 支持 STATEMENT，PREPARED 和 CALLABLE 语句的映射类型，分别代表 PreparedStatement 和 CallableStatement 类型。 --&gt;</span><br><span class="line">        statementType=&quot;PREPARED&quot;&gt;</span><br><span class="line">&lt;/selectKey&gt;</span><br></pre></td></tr></table></figure></selectkey></insert></insert></p>
<p>针对不能使用自增长特性的数据库，可以使用下面的配置来实现相同的功能：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;insert id=&quot;insertUser&quot; parameterType=&quot;com.dy.entity.User&quot;&gt;</span><br><span class="line">    &lt;!-- oracle等不支持id自增长的，可根据其id生成策略，先获取id --&gt;</span><br><span class="line">       </span><br><span class="line">    &lt;selectKey resultType=&quot;int&quot; order=&quot;BEFORE&quot; keyProperty=&quot;id&quot;&gt;</span><br><span class="line">          select seq_user_id.nextval as id from dual</span><br><span class="line">    &lt;/selectKey&gt;</span><br><span class="line">  insert into students (student_id,student_name,student_sex,student_birthday,group_id)</span><br><span class="line">		values(#&#123;id&#125;,#&#123;studentname&#125;,#&#123;studentsex&#125;,#&#123;studentbirthday&#125;,#&#123;groupid&#125;)</span><br><span class="line">   &lt;/insert&gt;</span><br></pre></td></tr></table></figure></p>
<p>接下来我们讲讲查询语句！  </p>
<h3 id="动态SQL"><a href="#动态SQL" class="headerlink" title="动态SQL"></a>动态SQL</h3><p>写完DML语句，可能很多人就会想到假如我同时要插入多条信息，或者删除多条信息，该怎么写SQL语句呢？别慌，该是动态SQL登场的时候了！<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;!DOCTYPE mapper </span><br><span class="line">	PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span><br><span class="line">	&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;mapper  namespace=&quot;com.aowin.testmybatis.student.pojo.Students&quot; &gt;</span><br><span class="line">	&lt;!-- 动态SQL --&gt;</span><br><span class="line">	&lt;update id=&quot;updatestudentdy&quot; parameterType=&quot;com.aowin.testmybatis.student.pojo.Students&quot;&gt;</span><br><span class="line">		update students </span><br><span class="line">		&lt;set&gt;</span><br><span class="line">			&lt;if test=&quot;studentname!=null and studentname!=&apos;&apos;&quot;&gt;</span><br><span class="line">				student_name=#&#123;studentname&#125;,</span><br><span class="line">			&lt;/if&gt;</span><br><span class="line">			&lt;if test=&quot;studentsex!=null and studentsex!=&apos;&apos;&quot;&gt;</span><br><span class="line">				student_sex=#&#123;studentsex&#125;,</span><br><span class="line">			&lt;/if&gt;</span><br><span class="line">			&lt;if test=&quot;studentbirthday!=null&quot;&gt;</span><br><span class="line">				student_birthday=#&#123;studentbirthday&#125;,</span><br><span class="line">			&lt;/if&gt;</span><br><span class="line">			&lt;if test=&quot;groupid!=null and groupid!=&apos;&apos;&quot;&gt;</span><br><span class="line">				group_id=#&#123;groupid&#125;</span><br><span class="line">			&lt;/if&gt;			</span><br><span class="line">		&lt;/set&gt;</span><br><span class="line">		&lt;where&gt;</span><br><span class="line">			student_id=#&#123;studentid&#125;</span><br><span class="line">		&lt;/where&gt;</span><br><span class="line">	&lt;/update&gt;</span><br><span class="line">	</span><br><span class="line">	&lt;update id=&quot;updatestudentdy2&quot; parameterType=&quot;com.aowin.testmybatis.student.pojo.Students&quot;&gt;</span><br><span class="line">		update students</span><br><span class="line">		&lt;trim prefix=&quot;set&quot; suffix=&quot;where student_id=#&#123;studnetid&#125;&quot; suffixOverrides=&quot;,&quot;&gt;</span><br><span class="line">			&lt;if test=&quot;studentname!=null and studentname!=&apos;&apos;&quot;&gt;</span><br><span class="line">				student_name=#&#123;studentname&#125;,</span><br><span class="line">			&lt;/if&gt;</span><br><span class="line">			&lt;if test=&quot;studentsex!=null and studentsex!=&apos;&apos;&quot;&gt;</span><br><span class="line">				student_sex=#&#123;studentsex&#125;,</span><br><span class="line">			&lt;/if&gt;</span><br><span class="line">			&lt;if test=&quot;studentbirthday!=null&quot;&gt;</span><br><span class="line">				student_birthday=#&#123;studentbirthday&#125;,</span><br><span class="line">			&lt;/if&gt;</span><br><span class="line">			&lt;if test=&quot;groupid!=null and groupid!=&apos;&apos;&quot;&gt;</span><br><span class="line">				group_id=#&#123;groupid&#125;</span><br><span class="line">			&lt;/if&gt;			</span><br><span class="line">		&lt;/trim&gt;</span><br><span class="line">	&lt;/update&gt;</span><br><span class="line">		</span><br><span class="line">	&lt;!-- 批量处理 --&gt;	</span><br><span class="line">	&lt;insert id=&quot;insertstudents&quot; useGeneratedKeys=&quot;true&quot; keyProperty=&quot;studentid&quot;&gt;</span><br><span class="line">		insert into students (student_name,student_sex,student_birthday,group_id) values</span><br><span class="line">		&lt;foreach collection=&quot;list&quot; item=&quot;item&quot; separator=&quot;,&quot;&gt;</span><br><span class="line">			(#&#123;item.studentname&#125;,#&#123;item.studentsex&#125;,#&#123;item.studentbirthday&#125;,#&#123;item.groupid&#125;)			</span><br><span class="line">		&lt;/foreach&gt;</span><br><span class="line">	&lt;/insert&gt;</span><br><span class="line">	</span><br><span class="line">	&lt;!-- 批量删除 传进来的是list集合--&gt;</span><br><span class="line">	&lt;delete id=&quot;deletestudents&quot; &gt;</span><br><span class="line">		delete from students where student_id in</span><br><span class="line">		&lt;foreach collection=&quot;list&quot; item=&quot;item&quot; open=&quot;(&quot; close=&quot;)&quot; separator=&quot;,&quot;&gt;</span><br><span class="line">			#&#123;item&#125;</span><br><span class="line">		&lt;/foreach&gt;</span><br><span class="line">	&lt;/delete&gt;</span><br><span class="line">	</span><br><span class="line">	&lt;!-- 批量删除 传进来的是数组--&gt;</span><br><span class="line">	&lt;delete id=&quot;deletestudents2&quot;&gt;</span><br><span class="line">		delete from students where student_id in</span><br><span class="line">		&lt;foreach collection=&quot;array&quot; item=&quot;item&quot; open=&quot;(&quot; close=&quot;)&quot; separator=&quot;,&quot;&gt;</span><br><span class="line">			#&#123;item&#125;</span><br><span class="line">		&lt;/foreach&gt;</span><br><span class="line">	&lt;/delete&gt;</span><br><span class="line">&lt;/mapper&gt;</span><br></pre></td></tr></table></figure></p>
<p>这个自己拼接sql语句有些类似，在这里我们介绍一下几个标签：if，choose (when, otherwise)，trim (where, set)，foreach。<br><strong>if</strong>:if标签一般用于非空验证，如上例，若id为空，if标签里的代码，将不会执行，反之，则会执行。<br><strong>choose(when,otherwise)</strong>:相当于switch(case,default) ，如上例，若title 为空，when标签里的代码，将不会执行，默认执行otherwise标签里面的代码。<br><strong>trim (prefix, suffix,prefixoverride)</strong>:</p>
<ul>
<li>prefix:前缀</li>
<li>suffix:后缀</li>
<li>prefixoverride=“AND|OR”：去掉最前面的and或者or;</li>
</ul>
<h3 id="批量处理"><a href="#批量处理" class="headerlink" title="批量处理"></a>批量处理</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;!DOCTYPE mapper </span><br><span class="line">	PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span><br><span class="line">	&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;mapper  namespace=&quot;com.aowin.testmybatis.student.pojo.Students&quot; &gt;</span><br><span class="line">	&lt;!-- 批量处理添加，传进来的是List --&gt;	</span><br><span class="line">	&lt;insert id=&quot;insertstudents&quot; useGeneratedKeys=&quot;true&quot; keyProperty=&quot;studentid&quot;&gt;</span><br><span class="line">		insert into students (student_name,student_sex,student_birthday,group_id) values</span><br><span class="line">		&lt;foreach collection=&quot;list&quot; item=&quot;item&quot; separator=&quot;,&quot;&gt;</span><br><span class="line">			(#&#123;item.studentname&#125;,#&#123;item.studentsex&#125;,#&#123;item.studentbirthday&#125;,#&#123;item.groupid&#125;)			</span><br><span class="line">		&lt;/foreach&gt;</span><br><span class="line">	&lt;/insert&gt;</span><br><span class="line">	</span><br><span class="line">	&lt;!-- 批量删除 传进来的是list集合--&gt;</span><br><span class="line">	&lt;delete id=&quot;deletestudents&quot; &gt;</span><br><span class="line">		delete from students where student_id in</span><br><span class="line">		&lt;foreach collection=&quot;list&quot; item=&quot;item&quot; open=&quot;(&quot; close=&quot;)&quot; separator=&quot;,&quot;&gt;</span><br><span class="line">			#&#123;item&#125;</span><br><span class="line">		&lt;/foreach&gt;</span><br><span class="line">	&lt;/delete&gt;</span><br><span class="line">	</span><br><span class="line">	&lt;!-- 批量删除 传进来的是数组--&gt;</span><br><span class="line">	&lt;delete id=&quot;deletestudents2&quot;&gt;</span><br><span class="line">		delete from students where student_id in</span><br><span class="line">		&lt;foreach collection=&quot;array&quot; item=&quot;item&quot; open=&quot;(&quot; close=&quot;)&quot; separator=&quot;,&quot;&gt;</span><br><span class="line">			#&#123;item&#125;</span><br><span class="line">		&lt;/foreach&gt;</span><br><span class="line">	&lt;/delete&gt;</span><br><span class="line">&lt;/mapper&gt;</span><br></pre></td></tr></table></figure>
<p>这里我们需要介绍一下foreach标签：<br><strong>foreach</strong>:可迭代任何对象（如列表、集合等）和任何的字典或者数组对象传递给foreach作为集合参数，当使用可迭代对象或者数组时，index是当前迭代的次数，item的值是本次迭代获取的元素。当使用字典（或者Map.Entry对象的集合）时，index是键，item是值。collection标签可以填（’list’,’array’,’map’）。  </p>
<ul>
<li>foreach元素的属性主要有 item，index，collection，open，separator，close。</li>
<li>item表示集合中每一个元素进行迭代时的别名；</li>
<li>index指 定一个名字，用于表示在迭代过程中，每次迭代到的位置；</li>
<li>open表示该语句以什么开始，</li>
<li>separator表示在每次进行迭代之间以什么符号作为分隔符；</li>
<li>close表示以什么结束。<br>当有了动态的SQL之后，我们有时间还可能会做批量修改和批量添加的操作。  </li>
</ul>
<h2 id="创建配置文件"><a href="#创建配置文件" class="headerlink" title="创建配置文件"></a>创建配置文件</h2><p>所有的配置文件建议都放在resource目录下！</p>
<h3 id="创建DB配置文件"><a href="#创建DB配置文件" class="headerlink" title="创建DB配置文件"></a>创建DB配置文件</h3><p>因为要访问数据库需要配置数据库连接的基本信息，我们这里以mysql为例<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">driver=com.mysql.jdbc.Driver</span><br><span class="line">url=jdbc:mysql://localhost:3306/testmybatis?useUnicode=true&amp;characterEncoding=utf8</span><br><span class="line">username=root</span><br><span class="line">password=123</span><br></pre></td></tr></table></figure></p>
<h3 id="创建mybatisconfig-xml"><a href="#创建mybatisconfig-xml" class="headerlink" title="创建mybatisconfig.xml"></a>创建mybatisconfig.xml</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;!DOCTYPE configuration</span><br><span class="line">	PUBLIC &quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span><br><span class="line">	&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;configuration&gt;</span><br><span class="line">	&lt;!-- 获取数据库连接基本信息,添加数据库配置文件的路径 --&gt;</span><br><span class="line">	&lt;properties resource=&quot;database.properties&quot;&gt;&lt;/properties&gt;</span><br><span class="line"></span><br><span class="line">	&lt;!-- pojo的类型进行别名设置 --&gt;</span><br><span class="line">    &lt;typeAliases&gt;</span><br><span class="line">        &lt;typeAlias type=&quot;com.aowin.testmybatis.student.pojo.Students&quot; alias=&quot;Students&quot;/&gt;</span><br><span class="line">    &lt;/typeAliases&gt;</span><br><span class="line"></span><br><span class="line">	&lt;!-- 搭建数据库连接池 --&gt;</span><br><span class="line">	&lt;environments default=&quot;mysql&quot;&gt;</span><br><span class="line">		&lt;environment id=&quot;mysql&quot;&gt;&lt;!-- 数据库类型 --&gt;</span><br><span class="line">			&lt;transactionManager type=&quot;JDBC&quot; /&gt;&lt;!-- 事务驱动，一般固定是JDBC --&gt;</span><br><span class="line">			&lt;dataSource type=&quot;POOLED&quot;&gt;&lt;!-- 连接池 --&gt;</span><br><span class="line">				&lt;property name=&quot;driver&quot; value=&quot;$&#123;driver&#125;&quot; /&gt;</span><br><span class="line">				&lt;property name=&quot;url&quot; value=&quot;$&#123;url&#125;&quot; /&gt;</span><br><span class="line">				&lt;property name=&quot;username&quot; value=&quot;$&#123;username&#125;&quot; /&gt;</span><br><span class="line">				&lt;property name=&quot;password&quot; value=&quot;$&#123;password&#125;&quot; /&gt;</span><br><span class="line">				&lt;!-- 配置最大连接数 --&gt;</span><br><span class="line">				&lt;property name=&quot;poolMaximumActiveConnections&quot; value=&quot;80&quot; /&gt;</span><br><span class="line">				&lt;!-- 配置核心连接数 --&gt;</span><br><span class="line">				&lt;property name=&quot;poolMaximumIdleConnections&quot; value=&quot;20&quot; /&gt;</span><br><span class="line">			&lt;/dataSource&gt;</span><br><span class="line">		&lt;/environment&gt;</span><br><span class="line">	&lt;/environments&gt;</span><br><span class="line"></span><br><span class="line">	&lt;!-- 加载映射文件 --&gt;</span><br><span class="line">	&lt;mappers&gt;</span><br><span class="line">		&lt;mapper resource=&quot;com/aowin/testmybatis/student/pojo/Students.xml&quot;&gt;&lt;/mapper&gt;</span><br><span class="line">	&lt;/mappers&gt;</span><br><span class="line">	</span><br><span class="line">&lt;/configuration&gt;</span><br></pre></td></tr></table></figure>
<h2 id="DAO层的编写"><a href="#DAO层的编写" class="headerlink" title="DAO层的编写"></a>DAO层的编写</h2><p>这样我们所有的配置文件都写好了，只需要修改DAO层了。在这里我们就不将所有配置的方法都实现了，例举个别的方法，程序里面会写上比较详细的注释。<br>程序里面包含了一个工具类：<a href="https://929050566.github.io/2018/12/07/MybatisSqlSessionFactory工具类/" target="_blank" rel="noopener">MybatisSqlSessionFactory</a>，在这里就不做详细讲解，它的作用就是得到SqlSession这个核心对象，以及关闭SqlSession。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br></pre></td><td class="code"><pre><span class="line">public class StudentDAOImpl implements StudentDAO &#123;</span><br><span class="line"></span><br><span class="line">	private Logger log = Logger.getLogger(this.getClass());</span><br><span class="line">	private SqlSession ss;</span><br><span class="line"></span><br><span class="line">	public StudentDAOImpl() &#123;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	@Override</span><br><span class="line">	public boolean insertStduent(Students s) &#123;</span><br><span class="line">		log.info(&quot;调用业务逻辑方法:insertStduent(Students s)&quot;);</span><br><span class="line">		boolean result = false;</span><br><span class="line">		SqlSession ss = MybatisSqlSessionFactory.getSqlSession();</span><br><span class="line">		try &#123;</span><br><span class="line">			int i = ss.insert(&quot;insertstudent&quot;, s);</span><br><span class="line">			if (i &gt; 0) &#123;</span><br><span class="line">				result = true;</span><br><span class="line">				log.info(&quot;添加学生信息成功&quot; + s);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125; catch (Exception e) &#123;</span><br><span class="line">			log.warn(&quot;添加学生信息失败：&quot; + e);</span><br><span class="line">		&#125; finally &#123;</span><br><span class="line">			if (ss != null)</span><br><span class="line">				ss.close();</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		return result;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	@Override</span><br><span class="line">	public boolean deleteStudent(Integer studentid) &#123;</span><br><span class="line">		boolean result = false;</span><br><span class="line">		SqlSession ss = MybatisSqlSessionFactory.getSqlSession(false);</span><br><span class="line">		try &#123;</span><br><span class="line">			int i = ss.delete(&quot;deletestudent&quot;);</span><br><span class="line">			if (i &gt; 0) &#123;</span><br><span class="line">				ss.commit();</span><br><span class="line">				result = true;</span><br><span class="line">				log.info(&quot;学生信息删除成功！&quot;);</span><br><span class="line">			&#125; else &#123;</span><br><span class="line">				ss.rollback();</span><br><span class="line">				log.info(&quot;学生信息删除失败！&quot;);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125; catch (Exception e) &#123;</span><br><span class="line">			log.warn(&quot;学生信息删除失败：&quot; + e);</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		return result;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	@Override</span><br><span class="line">	public boolean updateStudnet(Students s) &#123;</span><br><span class="line">		log.info(&quot;调用业务逻辑方法:updateStudnet(Students s)&quot;);</span><br><span class="line">		boolean result = false;</span><br><span class="line">		SqlSession ss = MybatisSqlSessionFactory.getSqlSession();</span><br><span class="line">		try &#123;</span><br><span class="line">			int i = ss.update(&quot;updatestudentdy&quot;, s);</span><br><span class="line">			if (i &gt; 0) &#123;</span><br><span class="line">				log.info(&quot;修改学生信息成功&quot; + s);</span><br><span class="line">				result = true;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125; catch (Exception e) &#123;</span><br><span class="line">			log.info(&quot;修改学生信息失败：&quot; + e);</span><br><span class="line">		&#125;</span><br><span class="line">		MybatisSqlSessionFactory.closeSqlSession();</span><br><span class="line">		return result;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	@Override</span><br><span class="line">	public int insertStudents(List&lt;Students&gt; list) &#123;</span><br><span class="line">		log.info(&quot;调用业务逻辑方法:insertStduent(Students s)&quot;);</span><br><span class="line">		int i = 0;</span><br><span class="line">		SqlSession ss = MybatisSqlSessionFactory.getSqlSession(false);</span><br><span class="line">		try &#123;</span><br><span class="line">			i = ss.insert(&quot;insertstudents&quot;, list);</span><br><span class="line">			if (i == list.size()) &#123;</span><br><span class="line">				ss.commit();</span><br><span class="line">				log.info(&quot;添加学生信息成功&quot; + list);</span><br><span class="line">			&#125; else &#123;</span><br><span class="line">				ss.rollback();</span><br><span class="line">				log.info(&quot;添加学生信息失败，数据回滚！&quot;);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125; catch (Exception e) &#123;</span><br><span class="line">			log.warn(&quot;添加学生信息失败：&quot; + e);</span><br><span class="line">		&#125; finally &#123;</span><br><span class="line">			if (ss != null)</span><br><span class="line">				ss.close();</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		return i;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	@Override</span><br><span class="line">	public int deleteStudents(List&lt;Integer&gt; list) &#123;</span><br><span class="line">		log.info(&quot;调用业务逻辑方法:deleteStudents(List&lt;Integer&gt; list)&quot;);</span><br><span class="line">		int result = 0;</span><br><span class="line">		SqlSession ss = MybatisSqlSessionFactory.getSqlSession(false);</span><br><span class="line">		try &#123;</span><br><span class="line">			int i = ss.delete(&quot;deletestudents&quot;, list);</span><br><span class="line">			if (i == list.size()) &#123;</span><br><span class="line">				ss.commit();</span><br><span class="line">				result = i;</span><br><span class="line">				log.info(i + &quot;行学生信息成功被删除！&quot;);</span><br><span class="line">			&#125; else &#123;</span><br><span class="line">				ss.rollback();</span><br><span class="line">				log.info(&quot;学生信息删除失败,数据回滚！&quot;);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125; catch (Exception e) &#123;</span><br><span class="line">			log.warn(&quot;学生信息删除失败：&quot; + e);</span><br><span class="line">		&#125;</span><br><span class="line">		MybatisSqlSessionFactory.closeSqlSession();</span><br><span class="line">		return result;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/05/java基础/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="张豪">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/05/java基础/" itemprop="url">java基础</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-12-05T18:36:22+08:00">
                2018-12-05
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/javase/" itemprop="url" rel="index">
                    <span itemprop="name">JavaSE</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          
             <span id="/2018/12/05/java基础/" class="leancloud_visitors" data-flag-title="java基础">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="变量与常量"><a href="#变量与常量" class="headerlink" title="变量与常量"></a>变量与常量</h1><h2 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h2><p>&emsp;顾名思义，变量就是值可以变化的量。它是用于标识数据的存储单元，可用于数据存储和运算。 </p>
<h3 id="变量的定义"><a href="#变量的定义" class="headerlink" title="变量的定义"></a>变量的定义</h3><p>&emsp;变量定义的一般格式如下：<br><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;数据类型&gt;&lt;数据标识符(取个名字)&gt;=&lt;值&gt;</span><br><span class="line">如:double x = 3.1415;</span><br></pre></td></tr></table></figure></p>
<p>&emsp;变量赋值后可以修改变量的值，格式如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;变量标识符(变量的名字)&gt;=&lt;值&gt;  </span><br><span class="line">如:x = 6.666;</span><br></pre></td></tr></table></figure></p>
<p>&emsp;注意:在java中的变量，都需要先声明再赋值！</p>
<h3 id="变量的作用域"><a href="#变量的作用域" class="headerlink" title="变量的作用域"></a>变量的作用域</h3><ul>
<li>所谓的作用域就是在变量在什么时候是可见在什么是不可见的！</li>
<li>作用域决定变量“可见性”与“存在时间”。</li>
<li>作用域的范围：只作用于从声明开始到所在的{}结束。<h2 id="变量-1"><a href="#变量-1" class="headerlink" title="变量"></a>变量</h2>&ensp;常量有字面常量和符号常量两种。<h3 id="符号常量"><a href="#符号常量" class="headerlink" title="符号常量"></a>符号常量</h3>&ensp;符号常量指用标识符表示的常量。定义的一般格式如下：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;final&gt;&lt;数据类型&gt;&lt;符号常量标识符&gt;=&lt;常量值&gt;;</span><br><span class="line">例如：</span><br><span class="line">final double PI = 3.1415926; </span><br><span class="line">final String name = &quot;Tom&quot;;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>&emsp;常量一旦赋值不能修改!  </p>
<h3 id="字面量"><a href="#字面量" class="headerlink" title="字面量"></a>字面量</h3><p>&emsp;字面量就是直接给值 不声明变量储存例如int a = 0;a = a + 3; a 是一个int型变量 3是字面量,又String s = “字符串”;s是变量”字符串”是一个字面量。</p>
<h1 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h1><h2 id="基本数据类型"><a href="#基本数据类型" class="headerlink" title="基本数据类型"></a>基本数据类型</h2><p>&emsp;基本数据类型：基本数据类型时不能简化的、内置的数据类型、由编程语言本身定义，它表示了真实的数字、字符和整数。  </p>
<p>&emsp;在java中有8种基本数据类型，分别是:<br>&emsp;&emsp;<strong>1.byte</strong>:Java中用户表示最小数据单位，在内存中占8位(bit)，即一个字节，取值范围-128~127，默认值0。<br>&emsp;&emsp;<strong>2.short</strong>：短整形，在内存中占16位，即2个字节，取值范围-32768~32717，默认值0。<br>&emsp;&emsp;<strong>3.int</strong>：整形，在内存中占32位，即4个字节，取值范围-2147483648~2147483647，默认值0。<br>&emsp;&emsp;<strong>4.long</strong>:长整形，在内存中占有64位，即8个字节，取值范围-2^63~2^63-1，默认值0L。<br>&emsp;&emsp;<strong>5.float</strong>：浮点型，在内存中占32位，即四个字节，用于存储带小数点的数字(与double的区别在于float类型有效小数点只有6~7位)，默认值0.0。<br>&emsp;&emsp;<strong>6.double</strong>：双精度浮点型，用于存储带有小数点的数字，在内存中占有64位，即8个字节，默认值0.0。<br>&emsp;&emsp;<strong>7.char</strong>：字符型，用于存储单个字符，占16位，即2个字节，取值范围0~65536，默认值为空。<br>&emsp;&emsp;<strong>8.boolean</strong>：布尔类型，占一个字节，用户判断真或假(仅有两个值，即true、false)，默认值false。  </p>
<p>&emsp;基本数据类型的存储原理：所有的基本数据类型不存在“引用”的概念，基本数据类型都是直接存储在内存中的内存栈上的，数据本身的值就是存储在栈空间里面，而Java语言里面八种数据类型是这种存储模型；</p>
<h2 id="引用数据类型"><a href="#引用数据类型" class="headerlink" title="引用数据类型"></a>引用数据类型</h2><p>&emsp;引用数据类型：Java语言本身不支持C++中的结构（struct）或联合（union）数据类型，它的复合数据类型一般都是通过类或接口进行构造，类提供了捆绑数据和方法的方式，同时可以针对程序外部进行信息隐藏。</p>
<p>&emsp;引用类型的存储原理:引用类型继承于Object类（也是引用类型）都是按照Java里面存储对象的内存模型来进行数据存储的，使用Java内存堆和内存栈来进行这种类型的数据存储，简单地讲，“引用”是存储在有序的内存栈上的，而对象本身的值存储在内存堆上的；</p>
<p>&emsp;<strong>区别:基本数据类型和引用类型的区别主要在于基本数据类型是分配在栈上的，而引用类型是分配在堆上的（<a href="url">不明白栈与堆的概念,点击这里</a>）。</strong></p>
<h2 id="类型转换"><a href="#类型转换" class="headerlink" title="类型转换"></a>类型转换</h2><h3 id="自动类型转换"><a href="#自动类型转换" class="headerlink" title="自动类型转换"></a>自动类型转换</h3><p>&emsp;自动类型转换：低优先级的数据自动会转换为高优先级的数据。<br><img src="/images/javabase/priority.png" alt="优先顺序"><br>&emsp;如果一下两个条件都能满足，那么将一种类型的数据赋值给另一种数据变量时，将执行自动类型转换：<br>&emsp;&emsp;1. 两种类型兼容。<br>&emsp;&emsp;2. 目标数据类型的取值范围比源数据类型的取值范围大。<br>&emsp;当满足以上两个条件时，自动的“加宽转换”就可以进行。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">例如：将一个byte值赋值给int类型的变量</span><br><span class="line">	byte a = 10;</span><br><span class="line">	int x= a;</span><br></pre></td></tr></table></figure></p>
<p>&emsp;对于加宽转换，数字类型，包括整数和浮点类型都是彼此兼容的，但是，数字类型和字符类型或布尔类型是不兼容的。字符类型和布尔类型也是互相不兼容的。  </p>
<h3 id="强制类型转换"><a href="#强制类型转换" class="headerlink" title="强制类型转换"></a>强制类型转换</h3><p>&emsp;强制类型转换：优先级高的数据转换为优先级低的数据。<br>&emsp;当需要将int型的值赋给一个byte型的变量时该怎么办？此时，只有采取被称为“变窄转换”的转换方式。因为你肯定要将源数据类型的值变小才能适合目标数据类型。<br>  在这种情况下，就必须进行强制类型转换。所谓的强制类型转换是一种显式的类型变换方式，其通用格式:(target-type) value<br>   其中，目标类型（target-type）指定了要将指定值所转换成的类型。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">例如，下面的程序段将int型强制转换成byte型。</span><br><span class="line">int a;</span><br><span class="line">byte b;</span><br><span class="line">b = (byte) a;</span><br></pre></td></tr></table></figure></p>
<p>&emsp;当把一个浮点值赋给整数类型时，将发生一种<br>不同的类型转换：截断。即当把浮点值赋给整数<br>类型时，它的小数部分将会被舍去。<br>&emsp;例如，如果将值1.23赋给一个整数，其结果只是1，<br>0.23被舍弃。当然，如果浮点值太大而不能适合<br>目标整数类型，那么它的值将会因为对目标类型<br>值域取模而减少。  </p>
<h1 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h1><h2 id="赋值运算符"><a href="#赋值运算符" class="headerlink" title="赋值运算符"></a>赋值运算符</h2><p>&emsp;包括：<strong>=，+=，-=，*=，/=，%=。</strong><br>    例如:<br>        int a=2;<br>        a= a<em>b;<br>        a</em>=b;<br>        a%=b;<br>        a = a%b;</p>
<h2 id="算数运算符"><a href="#算数运算符" class="headerlink" title="算数运算符"></a>算数运算符</h2><p>&emsp;包括：<strong>+，-，*，/，%，++，—</strong>等，要强调的是前缀++和后缀++的区别。<br>    后缀++：变量首先进行操作在自身进行加。<br>    例如: int a=2;     int b=a++;   (a=3,b=2)<br>    前缀++：变量自身首先加然后再进行操作。<br>    例如: int a=2;     int b=++a;   (a=3,b=3)</p>
<h2 id="关系运算符"><a href="#关系运算符" class="headerlink" title="关系运算符"></a>关系运算符</h2><p>&emsp;包括：<strong>==，！=，&lt;，&lt;=，&gt;，&gt;=</strong>，完成比较运算，结果为布尔类型值。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">例如：		</span><br><span class="line">	int a = 10;</span><br><span class="line">	int b = 3;</span><br><span class="line">	boolean f = a &gt; b;</span><br></pre></td></tr></table></figure></p>
<p>&emsp;比较a和b的值，结果为true，即f的值为true。  </p>
<h2 id="逻辑运算符"><a href="#逻辑运算符" class="headerlink" title="逻辑运算符"></a>逻辑运算符</h2><p>&emsp;包括：<strong>&amp;，|，!，^，&amp;&amp;，||。</strong><br>&emsp;注意区别:＆既是位运算符也是逻辑运算符，＆＆只是逻辑运算符，＆与＆＆同时作为逻辑运算符时＆＆是短路的(截断功能)，而＆并不短路。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">例如:</span><br><span class="line">	int a=6;int b=8;int c=10;int d=12;</span><br><span class="line">	boolean x=++a&gt;b++&amp;&amp;c++&gt;d--;</span><br></pre></td></tr></table></figure></p>
<p>&emsp;上面代码的结果：<br>a=7   b=9  c=10  d=12   x=flase  </p>
<h2 id="算数运算符-1"><a href="#算数运算符-1" class="headerlink" title="算数运算符"></a>算数运算符</h2><p>&emsp;算数运算符也称三目运算符。一般形式为：<br><strong>表达式1？表达式2：表达式3；</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">例如:</span><br><span class="line">	int x=2 ;int y=3;</span><br><span class="line">	int salary=((x ==y)?2000:200);</span><br></pre></td></tr></table></figure></p>
<p>&emsp;上面代码中因为x==y不成立，所以salary的最终值为200。 </p>
<h2 id="位运算符"><a href="#位运算符" class="headerlink" title="位运算符"></a>位运算符</h2><p>&emsp;按位取反〜，〜01010101=10101010。(1变0 0变1)<br>&emsp;按位与&amp;，11111001&amp;10001111=1000100。(同为1时为1 )<br>&emsp;按位或|，11111001|10001111=11111111。（只要有一个为1就为1）<br>&emsp;按位异或^，11111001^10001111=01110110。（相同为0 不同为1）<br>&emsp;左移&lt;&lt;，10101011&lt;<2=10101100。 &emsp;带符号右移="">&gt;，10101011&gt;&gt;2=11101010。<br>&emsp;无符号右移&gt;&gt;&gt;，10101011&gt;&gt;2=00101010。    </2=10101100。></p>
<h2 id="运算符优先级"><a href="#运算符优先级" class="headerlink" title="运算符优先级"></a>运算符优先级</h2><p><img src="/images/javabase/运算符.png" alt="运算符优先级">    </p>
<h1 id="流程控制语句"><a href="#流程控制语句" class="headerlink" title="流程控制语句"></a>流程控制语句</h1><p>&emsp;流程控制语句主要包括有：</p>
<ul>
<li>条件语句。</li>
<li>循环语句。</li>
<li>其他。  </li>
</ul>
<h2 id="条件语句"><a href="#条件语句" class="headerlink" title="条件语句"></a>条件语句</h2><h3 id="else-if"><a href="#else-if" class="headerlink" title="else-if"></a>else-if</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">if (条件表达式)&#123;</span><br><span class="line">  	语句1；</span><br><span class="line">&#125;else if(条件表达式）	&#123;</span><br><span class="line">  	语句2；</span><br><span class="line">&#125; else&#123;</span><br><span class="line">	…..</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>&emsp;条件表达式的值为 boolean 值。可以有多个else if<br>条件表达式结果为true则执行其后{}的代码，否则判断下一个条件，如果所有的条件都不成立则执行else。<br>If语句可以嵌套。  </p>
<h3 id="switch"><a href="#switch" class="headerlink" title="switch"></a>switch</h3><pre><code>switch(表达式){
    case &#39;常量值 1&#39;: 
      语句(组);
      break;
    case &#39;常量值 2&#39;: 
      语句(组);
      break; 
    case &#39;常量值 N&#39;: 
      语句(组);
      break;
    default:
      语句(组);
}
</code></pre><p>&emsp;switch 语句有如下规则：switch 语句中的变量类型可以是： byte、short、int 或者 char。从SE 7开始，switch 支持字符串类型当变量的值与 case 语句的值相等时，那么 case 语句之后的语句开始执行，直到 break 语句出现才会跳出 switch 语句。case 语句不必须要包含 break 语句。如果没有 break 语句出现，程序会继续执行下一条 case 语句，直到出现 break 语句。switch 语句可以包含一个 default 分支，default 在没有 case 语句的值和变量值相等的时候执行。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">public class SwitchOp</span><br><span class="line">&#123;</span><br><span class="line">  public static void main(String args[])</span><br><span class="line">    &#123;</span><br><span class="line">	  float a=9; </span><br><span class="line">	  float b=3; </span><br><span class="line">	  float result;</span><br><span class="line">	  char op=&apos;+&apos;;</span><br><span class="line">	  switch(op)</span><br><span class="line">	  &#123;</span><br><span class="line">	  	case &apos;+&apos;:	result=a+b;break;</span><br><span class="line">	  	case &apos;-&apos;:	result=a-b;break;</span><br><span class="line">	  	case &apos;*&apos;:	result=a*b;break;</span><br><span class="line">	  	case &apos;/&apos;:	result=a/b;break;</span><br><span class="line">	  	default:	result=0;</span><br><span class="line">	  &#125;</span><br><span class="line">	  System.out.println(&quot;result=&quot;+result);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="循环语句"><a href="#循环语句" class="headerlink" title="循环语句"></a>循环语句</h2><h3 id="while"><a href="#while" class="headerlink" title="while"></a>while</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">While(condition)&#123;//先判断后执行</span><br><span class="line">	System.out.println(num);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>&emsp;判断控制表达式condition的值，当其是真时，while语句重复执行一个语句或语句块。其中条件condition可以是任何布尔表达式。只要条件表达式为真，循环体就被执行。当条件condition为假时，程序控制就传递到循环后面紧跟的语句行。若只有单个语句需要重复，大括号可以省略。  </p>
<h3 id="do-while"><a href="#do-while" class="headerlink" title="do-while"></a>do-while</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">do &#123;//先执行，后判断</span><br><span class="line">	System.out.println(num);</span><br><span class="line">&#125; while (condition );</span><br></pre></td></tr></table></figure>
<p>&emsp;先执行循环体，然后再计算条件表达式condition 。如果表达式为真，则循环继续。否则，循环结束。对所有的Java循环都一样，条件condition必须是一个布尔表达式。</p>
<h3 id="for"><a href="#for" class="headerlink" title="for"></a>for</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">for语句的执行过程</span><br><span class="line">for(int i=0;i&lt;5;i++)&#123;</span><br><span class="line">	System.out.println(“this is “+i);</span><br><span class="line">&#125;</span><br><span class="line">//双重循环</span><br><span class="line">for(int i=0;i&lt;5;i++)&#123;</span><br><span class="line">	System.out.println(“this is “ +i);//输出5次</span><br><span class="line">	for(int j=0;j&lt;3;j++)&#123;</span><br><span class="line">		 System.out.println(“this is “+j);//输出 3 * 5 次</span><br><span class="line">	&#125;	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>&emsp;for（语句块 1 ；语句块 2；语句块 3）{}。  执行顺序 ：<br>&emsp;1）执行一次 语句块 1。<br>&emsp;2）执行语句块 2 ，若返回 true 则进入循环体；否则中断for循环。<br>&emsp;3）执行完循环体后，进行语句块 3 的操作。<br>&emsp;4）重复2，3。  </p>
<h2 id="其他语句"><a href="#其他语句" class="headerlink" title="其他语句"></a>其他语句</h2><ul>
<li>label:{语句块} ：用于给程序块取名字。  </li>
<li>break ：语句在循环中用于立即从当前循环终止执行，结束当前循环的执行。</li>
<li>continue ：语句则是从其调用处跳至循环的开始处，结束本次循环，继续执行下一次循环， 循环体中continue 语句之后的语句将不再执行。<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">//break</span><br><span class="line">int n;</span><br><span class="line">for(n=1;n&lt;=10;n++)	&#123;</span><br><span class="line">	if (n%2==0) break;//中断for循环</span><br><span class="line">	System.out.println(&quot;n=&quot;+n);</span><br><span class="line">&#125;</span><br><span class="line">//continue</span><br><span class="line">int n;</span><br><span class="line">for(n=1;n&lt;=10;n++)&#123;</span><br><span class="line">	if (n%2==0) continue;</span><br><span class="line">//中断此次循环体以后的代码段，进入语句块2</span><br><span class="line">	System.out.println(&quot;n=&quot;+n);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h1 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h1><h2 id="一维数组的定义"><a href="#一维数组的定义" class="headerlink" title="一维数组的定义"></a>一维数组的定义</h2><p>&emsp;数组的声明有多种方式：<br>&emsp;数组类型   数组名[]；<br>&emsp;数组类型[]  数组名；<br>&emsp;数组类型可为Java中的任何数据类型。但是数组名，必须符合标识符定义规则。 “[]”指明该变量是一个数组类型的变量，可放到数组名后面，也可放到数组名前。<br>    例如:<br>        int[]  arr;<br>        int  arr[]; </p>
<h2 id="一维数组的初始化"><a href="#一维数组的初始化" class="headerlink" title="一维数组的初始化"></a>一维数组的初始化</h2><p>&emsp;使用new分配内存空间，并按照数组的类型，为每一个数组元素建立默任值。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">int arr[];arr=new int[10];</span><br><span class="line">或</span><br><span class="line">int  arr[]=new int[10];</span><br></pre></td></tr></table></figure></p>
<p>&emsp;也可以使用常量初始化：int[] arr = {1,2,3,4};<br>&emsp;[]中的10表示数组的长度，即这个数组最多存放元素的个数。定义初始化数组的时候必须确定数组的长度。  </p>
<h2 id="一维数据的引用"><a href="#一维数据的引用" class="headerlink" title="一维数据的引用"></a>一维数据的引用</h2><p>&emsp;数组元素的引用格式为： 数组名[下标]<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">int a[]=new int[10]；</span><br><span class="line">int b=a[0]+a[9];</span><br></pre></td></tr></table></figure></p>
<p>&emsp;数组下标范围从0到9。数组下标的最小值为0，最大值为数组的长度-1，如果下标超出了范围，程序运行时将报数组越界错误：<br>java.lang.ArrayIndexOutOfBoundsException </p>
<h2 id="一维数组的使用"><a href="#一维数组的使用" class="headerlink" title="一维数组的使用"></a>一维数组的使用</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">class Qiuhe&#123;</span><br><span class="line">	public static void main(String args[])&#123;</span><br><span class="line">	 int a[]=&#123;5,8,2,4,1,9,78&#125;;</span><br><span class="line">	 int min=num[0];</span><br><span class="line">	 for(int i=1;i&lt;num.length;i++)&#123;</span><br><span class="line">		 if (min&gt;num[i])</span><br><span class="line">		   min=num[i];</span><br><span class="line">	 &#125;</span><br><span class="line">	 System.out.println(&quot;The min is:&quot;+min);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/05/类的初始化顺序/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="张豪">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/05/类的初始化顺序/" itemprop="url">类的初始化</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-12-05T14:14:46+08:00">
                2018-12-05
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/javase/" itemprop="url" rel="index">
                    <span itemprop="name">JavaSE</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          
             <span id="/2018/12/05/类的初始化顺序/" class="leancloud_visitors" data-flag-title="类的初始化">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>初始化和清理是程序设计安全性的两个最重要的问题。下面我们就总结一下和初始化有关的知识。</p>
<h1 id="成员变量和局部变量的初始化"><a href="#成员变量和局部变量的初始化" class="headerlink" title="成员变量和局部变量的初始化"></a>成员变量和局部变量的初始化</h1><p>成员变量：由于任何方法都可以初始化或使用成员变量数据，所以在正式使用数据前，若还是强迫程序员将其一一初始化成一个适当的值，就可能不够实际。因此，一个类的所有数据成员都会保证获得一个确定的值。也就是说成员变量在声明了之后，如果没有赋初始值会自动赋予一个默认的初始值。<br>我们简单用下列代码测试一下，不同的数据类型的默认初始化值是什么。</p>
<pre><code>import java.util.List;

public class Test {

    private short s;
    private int a;
    private long l;
    private float f;
    private boolean b;
    private double d;
    private char c;
    private List list;

    public Test() {
        // TODO Auto-generated constructor stub
    }

    @Override
    public String toString() {
        return &quot;Test [s=&quot; + s + &quot;, a=&quot; + a + &quot;, l=&quot; + l + &quot;, f=&quot; + f + &quot;, b=&quot; + b + &quot;, d=&quot; + d + &quot;, c=&quot; + c + &quot;, list=&quot;
                + list + &quot;]&quot;;
    }

    public static void main(String[] args) {
        Test t = new Test();
        System.out.println(t.toString());
        System.out.println((short) (t.c));
    }
}
</code></pre><p>可以得出一下结果：<br>！<a href="D:\ZeroBlog\929050566.github.io\source\images\init\result.PNG" target="_blank" rel="noopener">程序运行结果</a><br>我们可以得出结论，基本数据类型的默认初始化的值为：</p>
<ul>
<li>short=0</li>
<li>int=0</li>
<li>long=0</li>
<li>float=0.0</li>
<li>double=0.0</li>
<li>boolean=false</li>
<li>char=(char)0<br>复杂数据类型默认初始值为：null。</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/04/我的新帖子/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="张豪">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/04/我的新帖子/" itemprop="url">我的新帖子</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-12-04T22:08:46+08:00">
                2018-12-04
              </time>
            

            

            
          </span>

          

          
            
          

          
          
             <span id="/2018/12/04/我的新帖子/" class="leancloud_visitors" data-flag-title="我的新帖子">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/04/hello-world/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="张豪">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/04/hello-world/" itemprop="url">Hello World</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-12-04T20:43:27+08:00">
                2018-12-04
              </time>
            

            

            
          </span>

          

          
            
          

          
          
             <span id="/2018/12/04/hello-world/" class="leancloud_visitors" data-flag-title="Hello World">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  


          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/avatar.jpg" alt="张豪">
            
              <p class="site-author-name" itemprop="name">张豪</p>
              <p class="site-description motion-element" itemprop="description">纵有疾风起，人生不言弃。</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">7</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">2</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">2</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">张豪</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.4</div>








  
        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.4.js"></script>
  <script>AV.initialize("Ao8ulWHVQL8MoXaYC6Vdx83D-gzGzoHsz", "DOisvJRBttDNBED13TYDm3Gv");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  

  

  
  

  

  

  

</body>
</html>
